const topicFour = require('./specialFour')
const { SPECIAL } = require('./basic')
//  科目一

export const topicOne = {
  koufenfakuan: {
    title: '扣分罚款题',
    ids: [
      5, 23, 37, 38, 39, 44, 84, 283, 305, 315, 325, 326, 327, 340, 341, 342, 343,
      344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358,
      359, 360, 361, 7725, 7728, 7759, 7792, 7793, 7806, 7820, 16509, 22672,
      22673, 22674, 22675, 22710, 22711, 22712, 22715, 22766, 24430, 24431, 24751,
      26002, 26011, 26012, 26017, 26018, 26030, 26035, 26046, 26055, 26063, 26071,
      26434, 26435, 26438, 26439, 26504, 26509, 26510, 26514, 26524, 26558, 26583,
      26711, 26740, 27106, 27114, 27122, 27124, 27156, 28102, 28923, 28930, 29288,
      29308, 29309,
    ]
  },
  yibiaozhishideng: {
    title: '仪表指示灯题',
    ids: [
      151, 152, 153, 865, 866, 867, 868, 869, 870, 871, 872, 873, 874, 875, 876,
      877, 878, 879, 880, 881, 882, 883, 884, 885, 886, 887, 888, 889, 890, 891,
      892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 903, 904, 905, 906, 907,
      908, 909, 910, 911, 912, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922,
      923, 924, 925, 926, 927, 928, 929, 930, 931, 932, 933, 934, 935, 947, 948,
      949, 950, 951, 952, 953, 954, 2549, 2550, 13535, 13536, 13537, 13538, 13539,
      13540, 13541, 13542, 13543, 13544, 13545, 13546, 13547, 13548, 13549, 13550,
      13551, 13552, 13554, 25682, 25683, 26784,
    ]
  },
  teshutianqi: {
    title: '特殊天气题',
    ids: [
      78, 80, 91, 92, 218, 219, 220, 678, 679, 680, 749, 750, 753, 839, 840, 841,
      842, 844, 845, 846, 847, 850, 853, 2541, 2553, 2554, 2555, 7714, 7735, 7747,
      7786, 7805, 13480, 13481, 22676, 22762, 24269, 24273, 24279, 24736, 24741,
      25683, 25927, 26043, 26458, 26459, 26460, 26461, 26462, 26463, 26464, 26465,
      26466, 26467, 26468, 26469, 26470, 26471, 26681, 26683, 26741, 27139, 27156,
    ]
  },
  sudu: {
    title: '速度题',
    ids: [
      85, 86, 87, 88, 89, 90, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103,
      104, 105, 207, 208, 209, 210, 211, 212, 216, 217, 7714, 7786, 7805, 13603,
      13608, 24274, 24429, 24764, 25681, 26546, 26707, 26708, 26709, 26713, 26714,
      26843, 27139, 27140, 27169, 28103, 28105, 29291,
    ]
  },
  biaozhi: {
    title: '标志题',
    ids: [
      13, 17, 30, 49, 50, 65, 100, 137, 144, 149, 150, 165, 172, 173, 174, 175,
      185, 197, 207, 208, 209, 210, 211, 213, 221, 223, 240, 273, 394, 395, 396,
      397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411,
      412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426,
      427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441,
      442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456,
      457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471,
      472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486,
      487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501,
      502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516,
      517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531,
      532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546,
      547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561,
      562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576,
      577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591,
      592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 2548, 2570,
      2571, 2625, 2626, 2627, 7799, 13478, 13499, 13506, 13507, 13508, 13509,
      13510, 13511, 13512, 13513, 13514, 13515, 13516, 13517, 13518, 13519, 13520,
      13521, 13522, 13523, 13524, 13897, 22691, 22692, 22693, 22694, 22695, 22696,
      22697, 22698, 22700, 22705, 22706, 22726, 22727, 22728, 22729, 22730, 22731,
      22732, 22733, 22734, 22735, 22736, 22737, 22738, 22739, 22740, 22741, 22761,
      22763, 22764, 22775, 24278, 24426, 24427, 24428, 24752, 26531, 26836,
    ]
  },
  jiaojingshoushi: {
    title: '交警手势题',
    ids: [
      55, 61, 669, 670, 671, 672, 673, 674, 675, 676, 677, 24424, 24425, 24752,
      26028, 26745, 27153, 27154, 27167,
    ]
  },
  jiaotongxinhaodeng: {
    title: '交通信号灯',
    ids: [
      46, 47, 48, 49, 51, 56, 57, 61, 62, 63, 64, 145, 146, 147, 148, 160, 162,
      366, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 382, 384, 385, 386,
      387, 388, 389, 390, 391, 392, 393, 725, 733, 836, 2565, 7683, 7710, 7711,
      13505, 13612, 22684, 22685, 22686, 22687, 22689, 22690, 22717, 22718, 22719,
      22720, 22721, 22722, 22723, 22724, 22749, 22750, 24277, 24424, 24432, 24558,
      24559, 24752, 25679, 26003, 26019, 26745, 26803, 26838, 27153, 27167, 29332,
    ]
  },
  gaosugonglu: {
    title: '高速公路',
    ids: [
      85, 207, 209, 210, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222,
      223, 224, 225, 226, 227, 228, 229, 230, 231, 785, 786, 787, 788, 789, 790,
      791, 792, 793, 794, 795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805,
      806, 807, 808, 809, 2557, 2577, 2598, 2599, 2600, 2601, 2602, 7687, 7714,
      7735, 7736, 7747, 7755, 7771, 7772, 7780, 7786, 7787, 7799, 7805, 13477,
      13479, 13480, 13481, 13482, 13483, 13484, 13485, 13486, 13487, 13488, 13489,
      13490, 13608, 22671, 22674, 22675, 22704, 22707, 22762, 22763, 22765, 24273,
      24279, 24429, 24552, 24553, 24555, 24556, 24560, 25923, 25982, 26038, 26063,
      26071, 26439, 26447, 26466, 26467, 26664, 26678, 26684, 26713, 26716, 27106,
      27156, 28102, 28107, 28927, 29291,
    ]
  },
  anquanchangshi: {
    title: '安全常识',
    ids: [
      24, 25, 26, 27, 31, 33, 35, 36, 83, 106, 162, 166, 167, 178, 179, 180, 181,
      195, 196, 205, 206, 236, 237, 238, 239, 241, 242, 243, 244, 245, 681, 682,
      683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 698, 709,
      711, 712, 713, 714, 717, 718, 724, 734, 737, 738, 748, 759, 762, 763, 764,
      765, 778, 783, 827, 831, 843, 848, 855, 857, 936, 960, 961, 962, 963, 964,
      965, 966, 967, 968, 969, 970, 971, 972, 973, 2544, 2551, 2567, 2575, 2579,
      2585, 2586, 2587, 2589, 2592, 2593, 2594, 2595, 2596, 2603, 2608, 2610,
      2613, 2614, 2624, 2628, 2629, 2630, 2631, 2632, 2633, 2634, 2635, 2636,
      7677, 7678, 7685, 7713, 7716, 7730, 7732, 7733, 7735, 7737, 7756, 7757,
      7760, 7761, 7762, 7763, 7767, 7768, 7769, 7795, 7798, 7810, 7818, 13492,
      13494, 13495, 13497, 13498, 13500, 13501, 13502, 13503, 13504, 13532, 13534,
      13597, 13609, 13611, 13613, 22702, 22704, 22762, 22767, 22769, 22770, 22773,
      24739, 24748, 24752, 24763, 24765, 25987, 26019, 26020, 26021, 26051, 26059,
      26449, 26450, 26451, 26454, 26455, 26456, 26457, 26464, 26465, 26466, 26467,
      26470, 26516, 26526, 26529, 26568, 26569, 26669, 26677, 26679, 26710, 27100,
      27101, 27117, 27161, 27165, 27171, 28119, 28122, 28135, 28936, 28937, 29295,
    ]
  },
  biaoxian: {
    title: '标线',
    ids: [
      49, 50, 52, 54, 58, 101, 102, 108, 129, 131, 138, 139, 156, 163, 164, 169,
      171, 172, 192, 194, 224, 271, 367, 383, 604, 605, 606, 608, 609, 610, 611,
      612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626,
      627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641,
      642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656,
      657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 7696, 7710,
      7712, 7776, 7801, 7817, 13612, 22683, 22688, 22699, 22703, 22768, 22775,
      24554, 24557, 24752, 24798, 24799, 26430, 26431, 26826, 26837, 26843,
    ]
  },
  dengguangshiyong: {
    title: '灯光使用',
    ids: [
      67, 68, 69, 70, 71, 72, 74, 75, 76, 77, 78, 79, 80, 81, 82, 119, 130, 132,
      135, 188, 214, 215, 716, 745, 749, 750, 755, 756, 826, 828, 829, 830, 832,
      833, 834, 835, 837, 838, 841, 902, 2542, 2543, 2545, 2546, 2547, 2552, 2553,
      2576, 2604, 7688, 7692, 7693, 7695, 7708, 7740, 7774, 7775, 7776, 7799,
      7812, 7815, 13533, 22676, 22677, 22678, 22679, 22680, 22703, 22742, 22743,
      22744, 22745, 22746, 22747, 24736, 24741, 24747, 25579, 25580, 25581, 25923,
      25924, 25925, 25926, 25927, 26016, 26054, 26442, 26443, 26444, 26445, 26446,
      26469, 26517, 26536, 26681, 26755, 28929, 29289,
    ]
  },
  daolutongxingyuanze: {
    title: '道路通行原则',
    ids: [
      59, 60, 66, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 120,
      121, 122, 123, 125, 126, 127, 128, 129, 131, 133, 134, 140, 141, 142, 143,
      145, 151, 152, 153, 154, 155, 161, 171, 189, 190, 607, 721, 722, 723, 727,
      728, 729, 730, 732, 733, 734, 735, 736, 737, 739, 740, 741, 742, 744, 745,
      746, 747, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 765,
      766, 767, 768, 769, 770, 771, 772, 774, 775, 776, 779, 780, 781, 782, 784,
      830, 833, 2556, 2561, 2562, 2563, 2564, 2566, 2568, 2569, 2572, 2573, 2574,
      2578, 2580, 2581, 2582, 2583, 2584, 2588, 2590, 2591, 2606, 2607, 2609,
      2611, 2612, 2615, 2616, 2617, 2618, 2619, 2620, 7679, 7686, 7693, 7694,
      7695, 7696, 7697, 7698, 7699, 7708, 7709, 7710, 7711, 7712, 7715, 7734,
      7738, 7741, 7742, 7747, 7749, 7750, 7751, 7752, 7770, 7771, 7776, 7777,
      7778, 7779, 7796, 7808, 7809, 7811, 7813, 7814, 7815, 7816, 7817, 13493,
      13496, 13601, 13602, 13606, 13607, 13610, 16510, 22678, 22681, 22682, 22688,
      22701, 22748, 22751, 22752, 22753, 22754, 22756, 22757, 22758, 22759, 22760,
      22771, 24268, 24554, 24559, 24735, 24737, 24740, 24749, 24762, 26005, 26054,
      26055, 26067, 26070, 26453, 26471, 26538, 26540, 26549, 26665, 26678, 26682,
      26712, 26715, 26721, 26722, 26723, 26724, 26725, 26727, 26728, 26731, 26733,
      26734, 26742, 26793, 26795, 26800, 26802, 26803, 26825, 26838, 26839, 27144,
      27169, 28120, 28121, 29292,
    ]
  },
  wenmingjiashi: {
    title: '文明驾驶',
    ids: [
      106, 124, 136, 141, 142, 144, 145, 148, 154, 155, 156, 157, 158, 159, 160,
      161, 168, 170, 189, 190, 191, 193, 198, 199, 245, 607, 699, 700, 701, 702,
      703, 704, 705, 706, 707, 708, 709, 710, 715, 719, 720, 723, 738, 747, 761,
      773, 774, 775, 777, 784, 22774, 24732, 26804,
    ]
  },
  jiashizhengxiangguan: {
    title: '驾驶证相关',
    ids: [
      8, 10, 11, 12, 14, 15, 16, 18, 19, 20, 21, 22, 28, 40, 41, 42, 43, 44, 45,
      84, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259,
      260, 261, 262, 263, 264, 265, 266, 267, 269, 270, 316, 317, 318, 319, 320,
      321, 322, 323, 324, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338,
      339, 362, 364, 365, 7674, 7675, 7676, 7701, 7702, 7703, 7705, 7706, 7707,
      7718, 7719, 7720, 7721, 7722, 7723, 7724, 7725, 7726, 7727, 7728, 7743,
      7744, 7745, 7748, 7758, 7759, 7782, 7783, 7788, 7789, 7790, 7791, 7794,
      7803, 7807, 7823, 7824, 7825, 7826, 7827, 7828, 7829, 13483, 24271, 25954,
      25981, 25985, 26004, 26030, 26046, 26047, 26505, 26512, 26514, 26556, 26558,
      26572, 26844, 26845, 26846, 26847, 27096, 27098, 27101, 27103, 27120, 27121,
      27124, 27130, 27149, 27171, 27172, 27173, 28127, 28136, 29298, 29307,
    ]
  },
  xianchangjijiu: {
    title: '现场急救',
    ids: [
      25887, 25888, 25889, 25890, 25891, 25892, 25893, 25894, 25895, 25896, 25897,
      25898, 25899, 25900, 25901, 25902, 25903, 25904, 25905, 25906, 25907, 25908,
      25909, 25910, 25911, 25912, 25913, 25914, 25915, 25916, 25917, 25918, 25919,
      25920, 25921, 25922, 26058, 26062, 26744,
    ]
  },
  yiwaishigu: {
    title: '意外事故',
    ids: [
      8, 187, 188, 232, 233, 234, 235, 308, 309, 310, 311, 312, 313, 314, 315,
      696, 697, 7689, 7691, 7700, 7717, 7729, 7739, 7754, 7772, 7773, 7781, 7792,
      7799, 7802, 7821, 7822, 13474, 13475, 13476, 13525, 13526, 13598, 13599,
      13600, 24276, 26010, 26018, 26039, 26042, 26047, 26448,
    ]
  },
  yihunbiaozhi: {
    title: '易混标志',
    ids: [
      404, 405, 406, 449, 450, 455, 475, 512, 513, 567, 568, 569, 570, 571, 572,
      573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587,
      588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602,
      603, 13478, 13499, 13510, 13511, 13513, 13515, 13516, 13517, 13518, 13519,
      13521, 13522,
    ]
  },
  yihunzhishideng: {
    title: '易混指示灯',
    ids: [
      873, 874, 875, 876, 877, 878, 879, 881, 882, 883, 884, 886, 889, 891, 892,
      893, 895, 896, 898, 901, 910, 915, 926, 935, 13535, 13536, 13537, 13538,
      13539, 13540, 13541, 13543, 13545, 13546, 13548, 13550, 13552, 13554,
    ]
  },
  zerenpanding: {
    title: '责任判定',
    ids: [
      1, 2, 4, 6, 7, 9, 20, 21, 22, 23, 29, 32, 34, 272, 274, 275, 276, 277, 278,
      279, 280, 281, 282, 284, 285, 286, 2637, 2638, 2639, 2640, 7680, 7684, 7689,
      7690, 7691, 7700, 7723, 7724, 7726, 7731, 7753, 7764, 7765, 7789, 7791,
      7792, 7800, 7806, 13525, 13526, 13594, 13595, 13596, 13604, 13605, 16511,
      22672, 22709, 22713, 22714, 22716, 24267, 24272, 24433, 24561, 24733, 24767,
      24768, 24769, 25583, 25980, 25984, 28131, 28132,
    ]
  },
  putongluduan: {
    title: '普通路段',
    ids: [
      53, 54, 55, 56, 57, 58, 62, 63, 73, 109, 120, 124, 169, 170, 177, 726, 2561,
      2562, 2563, 7708, 7709, 7710, 7711, 7712, 7715, 22775, 24763, 26016, 26019,
      26442, 26443, 26446, 27167,
    ]
  },
  teshuluduan: {
    title: '特殊路段',
    ids: [
      73, 81, 94, 95, 96, 97, 98, 99, 103, 104, 105, 117, 118, 126, 127, 128, 132,
      133, 134, 137, 146, 147, 149, 150, 165, 166, 167, 176, 195, 196, 197, 200,
      201, 202, 203, 204, 731, 732, 743, 752, 810, 811, 812, 813, 814, 815, 816,
      817, 818, 819, 820, 821, 822, 823, 824, 825, 840, 849, 851, 852, 2564, 2605,
      2621, 2622, 2623, 7698, 7699, 7713, 7733, 7738, 7752, 7768, 7818, 7819,
      13505, 22681, 22682, 22702, 22725, 22755, 22758, 22772, 24737, 24738, 24750,
      26029, 26667, 26680, 26707, 26714, 26723, 26742, 26755, 28105,
    ]
  },
  jinjibixian: {
    title: '紧急避险',
    ids: [
      854, 856, 858, 859, 860, 861, 862, 863, 864, 26680, 26683, 26743,
    ]
  },
  guzhanglei: {
    title: '故障类',
    ids: [
      182, 183, 184, 185, 186, 188, 226, 227, 228, 229, 230, 231, 788, 2597, 7687,
      7688, 7736, 13489, 13490, 13491, 13553, 24270, 24275, 24423, 26447, 28106,
    ]
  },
  kouliuxiangguan: {
    title: '扣留相关',
    ids: [
      1, 2, 4, 6, 7, 9, 20, 21, 22, 23, 29, 32, 34, 272, 274, 275, 276, 277, 278,
      279, 280, 281, 282, 284, 285, 286, 2637, 2638, 2639, 2640, 7680, 7684, 7689,
      7690, 7691, 7700, 7723, 7724, 7726, 7731, 7753, 7764, 7765, 7789, 7791,
      7792, 7800, 7806, 13525, 13526, 13594, 13595, 13596, 13604, 13605, 16511,
      22672, 22709, 22713, 22714, 22716, 24267, 24272, 24433, 24561, 24733, 24767,
      24768, 24769, 25583, 25980, 25984, 28131, 28132,
    ]
  },
  caozuozhuangzhi: {
    title: '操作装置',
    ids: [
      937, 938, 939, 940, 941, 942, 943, 944, 945, 946, 955, 956, 957, 958, 959,
    ]
  }
};

const topicTypeMap = {
  one: topicOne,
  four: topicFour
}

export function getTopicBasic(type) {
  const topicMap = topicTypeMap[type]
  let list = []
  for (let key in topicMap) {
    const { title = '', ids = [] } = topicMap[key]
    if (title && Array.isArray(ids) && ids.length) {
      let value = {
        title,
        num: ids.length,
        type: key
      }
      list.push(value)
    }

  }
  return list
}
/**
 * 通过类型返回专项练习的数据
 * @param {string} kemuType one | four
 * @returns 题目的数组
 */
export function getTopicListByType(kemuType, type) {
  const listMap = {
    one: 'SUBJECT_ONE',
    four: 'SUBJECT_Four'
  }
  const topicInfo = topicTypeMap[kemuType]
  const key = listMap[kemuType]
  const allList = wx.getStorageSync(key) || []
  console.log(allList)
  let t1 = new Date().getTime()
  if (!Array.isArray(allList) || !allList.length) return []
  if (type == undefined) return []
  let ids = topicInfo[type] && topicInfo[type].ids
  let list = []
  if (ids) {
    for (let i = 0; i < allList.length; i++) {
      const item = allList[i];
      // console.log(item)
      for (let j = 0; j < ids.length; j++) {
        const id = ids[j]
        if (item.originId == id) {
          list.push(item)
        }
      }
    }
    let t2 = new Date().getTime()
    console.log('t2-t1', t2 - t1)
    return list
  }
  return []
}

function createSpecialInfo(type) {
  const topicMap = topicTypeMap[type]
  let specialInfo = {}
  for (let key in topicMap) {
    specialInfo[key] = {
      total: topicMap[key].ids.length,
      topicIndex: 0,
      successNumber: 0,
      wrongNumber: 0,
      result: {}
    }
  }
  return specialInfo
}

export const kemuType = {
  one: 'ONE',
  four: 'FOUR'
}

export function getKeyFromType(type, key) {
  return kemuType[type] + '_' + key
}

/**
 * 
 * @param {string|number} type one | four
 */
export function setStorageSpecial(type = one) {
  const prefix = kemuType[type]
  const key = `${prefix}_${SPECIAL}`
  const info = createSpecialInfo(type)
  wx.setStorageSync(key, info)
}
